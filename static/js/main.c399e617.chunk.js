(this["webpackJsonpfragafrigate-mk2"]=this["webpackJsonpfragafrigate-mk2"]||[]).push([[0],{13:function(t,e,i){},15:function(t,e,i){},16:function(t,e,i){"use strict";i.r(e);var r=i(1),s=i.n(r),a=i(8),n=i.n(a),o=(i(13),i(3)),c=i(4),p=i(2),u=i(6),h=i(5),l=function(){function t(e,i,r){Object(o.a)(this,t),this.type=e,this.size=i,this.position=r,this.hits=0,this.setPosition=this.setPosition.bind(this),this.hit=this.hit.bind(this)}return Object(c.a)(t,[{key:"setPosition",value:function(t){this.position=t}},{key:"hit",value:function(){var t=this.hits;t++,this.hits=t}},{key:"isSunk",value:function(){if(this.hits==this.size)return!0}}]),t}(),m=i(0),d=function(t){Object(u.a)(i,t);var e=Object(h.a)(i);function i(t){var r;return Object(o.a)(this,i),(r=e.call(this,t)).patrol=new l("patrol",2,[]),r.frigate=new l("frigate",3,[]),r.submarine=new l("submarine",3,[]),r.cruiser=new l("cruiser",4,[]),r.carrier=new l("carrier",5,[]),r.receiveAttack=r.receiveAttack.bind(Object(p.a)(r)),r.setPosition=r.setPosition.bind(Object(p.a)(r)),r}return Object(c.a)(i,[{key:"receiveAttack",value:function(t,e){switch(t){case"patrol":if(this.patrol.position.includes(e))return this.patrol.hit(),"attack received";break;default:return}}},{key:"setPosition",value:function(t,e){switch(t){case"patrol":this.patrol.position=e;break;default:return}return this.patrol.position[0]}},{key:"render",value:function(){var t=this,e=[0,1,2,3,4,5,6,7,8,9];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"gameboard-container ".concat(this.props.boardType,"-gameboard-container"),id:this.props.boardType+"-container",children:["A","B","C","D","E","F","G","H","I","J"].map((function(i,r){return Object(m.jsx)("div",{className:"gameboard-row",children:e.map((function(e,s){return Object(m.jsx)("div",{id:t.props.boardType+"-"+r+s,className:"gameboard-cell ".concat(t.props.boardType,"-cell"),data:r+""+s,onClick:function(){t.props.handleCellClick(r+""+s)},children:i+"-"+e},s)}))},r)}))})})}}]),i}(s.a.Component),C=function(t){Object(u.a)(i,t);var e=Object(h.a)(i);function i(t){return Object(o.a)(this,i),e.call(this,t)}return Object(c.a)(i,[{key:"render",value:function(){var t=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"setup-prompt-window",className:"setup-prompt-window",children:[Object(m.jsxs)("h1",{children:["place your ",this.props.setupState]}),Object(m.jsx)("button",{id:"setup-submission-btn",onClick:function(){t.props.handleSubmitClick()},children:"submit your board"})]})})}}]),i}(s.a.Component),b=function(t){Object(u.a)(i,t);var e=Object(h.a)(i);function i(t){return Object(o.a)(this,i),e.call(this,t)}return Object(c.a)(i,[{key:"render",value:function(){var t=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"game-over-container",className:"game-over-container",children:[Object(m.jsxs)("h1",{children:[this.props.winner," won!"]}),Object(m.jsx)("button",{id:"game-over-button",onClick:function(){t.props.handleGameOverClick()},children:"restart"})]})})}}]),i}(s.a.Component),f=(i(15),function(t){Object(u.a)(i,t);var e=Object(h.a)(i);function i(t){var r;return Object(o.a)(this,i),(r=e.call(this,t)).state={setupState:null,winner:null},r.tempSetupArr=[],r.playerCoords=[],r.cpuCoords=[],r.computerGuesses=[],r.patrol=new l("patrol",2,[]),r.frigate=new l("frigate",3,[]),r.submarine=new l("submarine",3,[]),r.cruiser=new l("cruiser",4,[]),r.carrier=new l("carrier",5,[]),r.NPCpatrol=new l("patrol",2,[]),r.NPCfrigate=new l("frigate",3,[]),r.NPCsubmarine=new l("submarine",3,[]),r.NPCcruiser=new l("cruiser",4,[]),r.NPCcarrier=new l("carrier",5,[]),r.handleStartMenuClick=r.handleStartMenuClick.bind(Object(p.a)(r)),r.handleSetupClick=r.handleSetupClick.bind(Object(p.a)(r)),r.handleSetupSubmission=r.handleSetupSubmission.bind(Object(p.a)(r)),r.handlePlayerClick=r.handlePlayerClick.bind(Object(p.a)(r)),r.handleGameOverClick=r.handleGameOverClick.bind(Object(p.a)(r)),r}return Object(c.a)(i,[{key:"handleStartMenuClick",value:function(){document.querySelector(".start-menu-container").classList.toggle("hide"),document.querySelector("#setup-container").classList.toggle("show"),document.querySelector(".setup-prompt-window").classList.toggle("show"),this.setState({setupState:"patrol"}),document.querySelector("#setup-submission-btn").disabled=!0}},{key:"handleSetupClick",value:function(t){var e=document.querySelector("#setup-".concat(t));if(this.canPlace(t))switch(e.classList.add("player-occupied"),this.playerCoords.push(t),this.state.setupState){case"patrol":e.classList.add("player-patrol"),this.tempSetupArr.push(t),this.patrol.position.push(t),this.patrol.position.length===this.patrol.size&&(this.tempSetupArr=[],this.setState({setupState:"frigate"}));break;case"frigate":e.classList.add("player-frigate"),this.tempSetupArr.push(t),this.frigate.position.push(t),this.frigate.position.length===this.frigate.size&&(this.tempSetupArr=[],this.setState({setupState:"submarine"}));break;case"submarine":e.classList.add("player-submarine"),this.tempSetupArr.push(t),this.submarine.position.push(t),this.submarine.position.length===this.submarine.size&&(this.tempSetupArr=[],this.setState({setupState:"cruiser"}));break;case"cruiser":e.classList.add("player-cruiser"),this.tempSetupArr.push(t),this.cruiser.position.push(t),this.cruiser.position.length===this.cruiser.size&&(this.tempSetupArr=[],this.setState({setupState:"carrier"}));break;case"carrier":if(e.classList.add("player-carrier"),this.tempSetupArr.push(t),this.carrier.position.push(t),this.carrier.position.length===this.carrier.size)this.tempSetupArr=[],alert("setup complete"),document.querySelectorAll(".setup-cell").forEach((function(t){t.classList.toggle("unclickable")})),document.querySelector("#setup-submission-btn").disabled=!1;break;default:alert("something went wrong")}else alert("reassess placement please")}},{key:"handleSetupSubmission",value:function(){document.querySelector("#setup-container").classList.toggle("show"),document.querySelector("#setup-prompt-window").classList.toggle("show"),this.renderPlayerBoard(),this.randomizeComputerBoard()}},{key:"renderPlayerBoard",value:function(){this.patrol.position.forEach((function(t){document.querySelector("#player-".concat(t)).classList.add("player-patrol")})),this.frigate.position.forEach((function(t){document.querySelector("#player-".concat(t)).classList.add("player-frigate")})),this.submarine.position.forEach((function(t){document.querySelector("#player-".concat(t)).classList.add("player-submarine")})),this.cruiser.position.forEach((function(t){document.querySelector("#player-".concat(t)).classList.add("player-cruiser")})),this.carrier.position.forEach((function(t){document.querySelector("#player-".concat(t)).classList.add("player-carrier")})),document.querySelectorAll(".player-cell").forEach((function(t){t.style="pointer-events: none;"})),document.querySelector("#player-container").classList.toggle("show")}},{key:"getRandomIndex",value:function(){return("00"+Math.floor(99*Math.random())).slice(-2)}},{key:"coinFlip",value:function(){return Math.round(Math.random())}},{key:"placePatrol",value:function(){var t=this;this.NPCpatrol.position=[],this.tempSetupArr=[];var e=this.getRandomIndex();if(this.cpuCoords.includes(e)?this.placePatrol():(this.NPCpatrol.position.push(e),this.tempSetupArr.push(e)),0==this.coinFlip())for(;this.NPCpatrol.position.length<2;){9==this.NPCpatrol.position[this.NPCpatrol.position.length-1].charAt(1)&&this.placePatrol();var i=("00"+(parseInt(this.NPCpatrol.position[this.NPCpatrol.position.length-1])+1)).slice(-2);this.canPlace(i)?(this.NPCpatrol.position.push(i),this.tempSetupArr.push(i)):this.placePatrol()}else for(;this.NPCpatrol.position.length<2;){9==this.NPCpatrol.position[this.NPCpatrol.position.length-1].charAt(0)&&this.placePatrol();var r=("00"+(parseInt(this.NPCpatrol.position[this.NPCpatrol.position.length-1])+1)).slice(-2);this.canPlace(r)?(this.NPCpatrol.position.push(r),this.tempSetupArr.push(r)):this.placePatrol()}2!=this.NPCpatrol.position.length&&this.placePatrol(),this.NPCpatrol.position.forEach((function(e){t.cpuCoords.push(e)}))}},{key:"placeFrigate",value:function(){var t=this;this.NPCfrigate.position=[],this.tempSetupArr=[];var e=this.getRandomIndex();if(this.cpuCoords.includes(e)?this.placeFrigate():(this.NPCfrigate.position.push(e),this.tempSetupArr.push(e)),0==this.coinFlip())for(;this.NPCfrigate.position.length<3;){9==this.NPCfrigate.position[this.NPCfrigate.position.length-1].charAt(1)&&this.placeFrigate();var i=("00"+(parseInt(this.NPCfrigate.position[this.NPCfrigate.position.length-1])+1)).slice(-2);this.canPlace(i)?(this.NPCfrigate.position.push(i),this.tempSetupArr.push(i)):this.placeFrigate()}else for(;this.NPCfrigate.position.length<3;){9==this.NPCfrigate.position[this.NPCfrigate.position.length-1].charAt(0)&&this.placeFrigate();var r=("00"+(parseInt(this.NPCfrigate.position[this.NPCfrigate.position.length-1])+1)).slice(-2);this.canPlace(r)?(this.NPCfrigate.position.push(r),this.tempSetupArr.push(r)):this.placeFrigate()}3!=this.NPCfrigate.position.length&&this.placeFrigate(),this.NPCfrigate.position.forEach((function(e){t.cpuCoords.push(e)}))}},{key:"placeSubmarine",value:function(){var t=this;this.NPCsubmarine.position=[],this.tempSetupArr=[];var e=this.getRandomIndex();if(this.cpuCoords.includes(e)?this.placeSubmarine():(this.NPCsubmarine.position.push(e),this.tempSetupArr.push(e)),0==this.coinFlip())for(;this.NPCsubmarine.position.length<3;){9==this.NPCsubmarine.position[this.NPCsubmarine.position.length-1].charAt(1)&&this.placeSubmarine();var i=("00"+(parseInt(this.NPCsubmarine.position[this.NPCsubmarine.position.length-1])+1)).slice(-2);this.canPlace(i)?(this.NPCsubmarine.position.push(i),this.tempSetupArr.push(i)):this.placeSubmarine()}else for(;this.NPCsubmarine.position.length<3;){9==this.NPCsubmarine.position[this.NPCsubmarine.position.length-1].charAt(0)&&this.placeSubmarine();var r=("00"+(parseInt(this.NPCsubmarine.position[this.NPCsubmarine.position.length-1])+1)).slice(-2);this.canPlace(r)?(this.NPCsubmarine.position.push(r),this.tempSetupArr.push(r)):this.placeSubmarine()}3!=this.NPCsubmarine.position.length&&this.placeSubmarine(),this.NPCsubmarine.position.forEach((function(e){t.cpuCoords.push(e)}))}},{key:"placeCruiser",value:function(){var t=this;this.NPCcruiser.position=[],this.tempSetupArr=[];var e=this.getRandomIndex();if(this.cpuCoords.includes(e)?this.placeCruiser():(this.NPCcruiser.position.push(e),this.tempSetupArr.push(e)),0==this.coinFlip())for(;this.NPCcruiser.position.length<4;){9==this.NPCcruiser.position[this.NPCcruiser.position.length-1].charAt(1)&&this.placeCruiser();var i=("00"+(parseInt(this.NPCcruiser.position[this.NPCcruiser.position.length-1])+1)).slice(-2);this.canPlace(i)?(this.NPCcruiser.position.push(i),this.tempSetupArr.push(i)):this.placeCruiser()}else for(;this.NPCcruiser.position.length<4;){9==this.NPCcruiser.position[this.NPCcruiser.position.length-1].charAt(0)&&this.placeCruiser();var r=("00"+(parseInt(this.NPCcruiser.position[this.NPCcruiser.position.length-1])+1)).slice(-2);this.canPlace(r)?(this.NPCcruiser.position.push(r),this.tempSetupArr.push(r)):this.placeCruiser()}4!=this.NPCcruiser.position.length&&this.placeCruiser(),this.NPCcruiser.position.forEach((function(e){t.cpuCoords.push(e)}))}},{key:"placeCarrier",value:function(){var t=this;this.NPCcarrier.position=[],this.tempSetupArr=[];var e=this.getRandomIndex();if(this.cpuCoords.includes(e)?this.placeCarrier():(this.NPCcarrier.position.push(e),this.tempSetupArr.push(e)),0==this.coinFlip())for(;this.NPCcarrier.position.length<5;){9==this.NPCcarrier.position[this.NPCcarrier.position.length-1].charAt(1)&&this.placeCarrier();var i=("00"+(parseInt(this.NPCcarrier.position[this.NPCcarrier.position.length-1])+1)).slice(-2);this.canPlace(i)?(this.NPCcarrier.position.push(i),this.tempSetupArr.push(i)):this.placeCarrier()}else for(;this.NPCcarrier.position.length<5;){9==this.NPCcarrier.position[this.NPCcarrier.position.length-1].charAt(0)&&this.placeCarrier();var r=("00"+(parseInt(this.NPCcarrier.position[this.NPCcarrier.position.length-1])+1)).slice(-2);this.canPlace(r)?(this.NPCcarrier.position.push(r),this.tempSetupArr.push(r)):this.placeCarrier()}5!=this.NPCcarrier.position.length&&this.placeCarrier(),this.NPCcarrier.position.forEach((function(e){t.cpuCoords.push(e)}))}},{key:"randomizeComputerBoard",value:function(){this.placePatrol(),this.placeFrigate(),this.placeSubmarine(),this.placeCruiser(),this.placeCarrier(),this.renderComputerBoard()}},{key:"renderComputerBoard",value:function(){this.NPCpatrol.position.forEach((function(t){var e=document.querySelector("#computer-".concat(t));e.classList.add("computer-occupied"),e.classList.add("computer-patrol")})),this.NPCfrigate.position.forEach((function(t){var e=document.querySelector("#computer-".concat(t));e.classList.add("computer-occupied"),e.classList.add("computer-frigate")})),this.NPCsubmarine.position.forEach((function(t){var e=document.querySelector("#computer-".concat(t));e.classList.add("computer-occupied"),e.classList.add("computer-submarine")})),this.NPCcruiser.position.forEach((function(t){var e=document.querySelector("#computer-".concat(t));e.classList.add("computer-occupied"),e.classList.add("computer-cruiser")})),this.NPCcarrier.position.forEach((function(t){var e=document.querySelector("#computer-".concat(t));e.classList.add("computer-occupied"),e.classList.add("computer-carrier")})),document.querySelector("#computer-container").classList.toggle("show"),this.forceUpdate()}},{key:"canPlace",value:function(t){if(this.cpuCoords.includes(t))return!1;var e=parseInt(t);if(0===this.tempSetupArr.length)return!0;if(1===this.tempSetupArr.length){if(9==this.tempSetupArr[0].charAt(1)&&0==t.charAt(1)||0==this.tempSetupArr[0].charAt(1)&&9==t.charAt(1))return!1;if(this.tempSetupArr[0]==e+10||this.tempSetupArr[0]==e-10)return!0;if(this.tempSetupArr[0]==e+1||this.tempSetupArr[0]==e-1)return!0}else if(this.tempSetupArr.sort((function(t,e){return t-e})),1===Math.abs(this.tempSetupArr[0]-this.tempSetupArr[1])){if((this.tempSetupArr[0]==e+1||this.tempSetupArr[0]==e-1||this.tempSetupArr[this.tempSetupArr.length-1]==e+1||this.tempSetupArr[this.tempSetupArr.length-1]==e-1)&&this.tempSetupArr[0].charAt(0)==t.charAt(0))return!0}else if(this.tempSetupArr[0]==e+10||this.tempSetupArr[0]==e-10||this.tempSetupArr[this.tempSetupArr.length-1]==e+10||this.tempSetupArr[this.tempSetupArr.length-1]==e-10)return!0}},{key:"handlePlayerClick",value:function(t){var e=document.querySelector("#computer-".concat(t)),i=e.classList[3];switch(i){case"computer-patrol":this.NPCpatrol.hit(),e.classList.toggle("hit");break;case"computer-frigate":this.NPCfrigate.hit(),e.classList.toggle("hit");break;case"computer-submarine":this.NPCsubmarine.hit(),e.classList.toggle("hit");break;case"computer-cruiser":this.NPCcruiser.hit(),e.classList.toggle("hit");break;case"computer-carrier":this.NPCcarrier.hit(),e.classList.toggle("hit");break;default:e.classList.toggle("miss")}this.checkShip("player",i),this.checkWin("player"),this.computerMove()}},{key:"checkShip",value:function(t,e){if("player"===t)switch(e){case"computer-patrol":this.NPCpatrol.isSunk()&&alert("sunk computer patrol");break;case"computer-frigate":this.NPCfrigate.isSunk()&&alert("sunk computer frigate");break;case"computer-submarine":this.NPCsubmarine.isSunk()&&alert("sunk computer submarine");break;case"computer-cruiser":this.NPCcruiser.isSunk()&&alert("sunk computer cruiser");break;case"computer-carrier":this.NPCcarrier.isSunk()&&alert("sunk computer carrier")}else switch(e){case"player-patrol":this.patrol.isSunk()&&alert("sunk player patrol boat");break;case"player-frigate":this.frigate.isSunk()&&alert("sunk player frigate boat");break;case"player-submarine":this.submarine.isSunk()&&alert("sunk player submarine boat");break;case"player-cruiser":this.cruiser.isSunk()&&alert("sunk player cruiser boat");break;case"player-carrier":this.carrier.isSunk()&&alert("sunk player carrier boat")}}},{key:"checkWin",value:function(t){if("player"===t){if(!(this.NPCpatrol.isSunk()&&this.NPCfrigate.isSunk()&&this.NPCsubmarine.isSunk()&&this.NPCcruiser.isSunk()&&this.NPCcarrier.isSunk()))return;this.setState({winner:"you"}),this.gameOver("player")}else if("computer"===t){if(!(this.patrol.isSunk()&&this.frigate.isSunk()&&this.submarine.isSunk()&&this.cruiser.isSunk()&&this.carrier.isSunk()))return;this.setState({winner:"computer"}),this.gameOver("computer")}}},{key:"gameOver",value:function(t){document.querySelector("#game-over-container").classList.toggle("show")}},{key:"computerMove",value:function(){var t=Math.floor(99*Math.random()).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),e=document.querySelector("#player-".concat(t)),i=e.classList[2];if(this.computerGuesses.includes(t))this.computerMove();else{if(this.playerCoords.includes(t)){switch(i){case"player-patrol":this.patrol.hit();break;case"player-frigate":this.frigate.hit();break;case"player-submarine":this.submarine.hit();break;case"player-cruiser":this.cruiser.hit();break;case"player-carrier":this.carrier.hit()}e.classList.toggle("hit")}else e.classList.toggle("miss");this.computerGuesses.push(t)}this.checkShip("computer",i),this.checkWin("computer")}},{key:"handleGameOverClick",value:function(){window.location.reload(!0)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"start-menu-container",children:[Object(m.jsx)("h1",{children:"Welcome to Frag-A-Frigate"}),Object(m.jsx)("button",{onClick:this.handleStartMenuClick,children:"click to begin"})]}),Object(m.jsx)(d,{boardType:"setup",handleCellClick:this.handleSetupClick}),Object(m.jsx)(C,{setupState:this.state.setupState,handleSubmitClick:this.handleSetupSubmission}),Object(m.jsx)(d,{boardType:"player"}),Object(m.jsx)(d,{boardType:"computer",handleCellClick:this.handlePlayerClick}),Object(m.jsx)(b,{winner:this.state.winner,handleGameOverClick:this.handleGameOverClick})]})}}]),i}(s.a.Component)),g=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(e){var i=e.getCLS,r=e.getFID,s=e.getFCP,a=e.getLCP,n=e.getTTFB;i(t),r(t),s(t),a(t),n(t)}))};n.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.c399e617.chunk.js.map