(this["webpackJsonpfragafrigate-mk2"]=this["webpackJsonpfragafrigate-mk2"]||[]).push([[0],{13:function(e,t,r){},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var i=r(1),s=r.n(i),a=r(8),c=r.n(a),n=(r(13),r(3)),o=r(4),u=r(2),p=r(6),h=r(5),l=function(){function e(t,r,i){Object(n.a)(this,e),this.type=t,this.size=r,this.position=i,this.hits=0,this.setPosition=this.setPosition.bind(this),this.hit=this.hit.bind(this)}return Object(o.a)(e,[{key:"setPosition",value:function(e){this.position=e}},{key:"hit",value:function(){var e=this.hits;e++,this.hits=e}},{key:"isSunk",value:function(){if(this.hits==this.size)return!0}}]),e}(),m=r(0),d=function(e){Object(p.a)(r,e);var t=Object(h.a)(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).patrol=new l("patrol",2,[]),i.frigate=new l("frigate",3,[]),i.submarine=new l("submarine",3,[]),i.cruiser=new l("cruiser",4,[]),i.carrier=new l("carrier",5,[]),i.receiveAttack=i.receiveAttack.bind(Object(u.a)(i)),i.setPosition=i.setPosition.bind(Object(u.a)(i)),i}return Object(o.a)(r,[{key:"receiveAttack",value:function(e,t){switch(e){case"patrol":if(this.patrol.position.includes(t))return this.patrol.hit(),"attack received";break;default:return}}},{key:"setPosition",value:function(e,t){switch(e){case"patrol":this.patrol.position=t;break;default:return}return this.patrol.position[0]}},{key:"render",value:function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9];return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"gameboard-container ".concat(this.props.boardType,"-gameboard-container"),id:this.props.boardType+"-container",children:["A","B","C","D","E","F","G","H","I","J"].map((function(r,i){return Object(m.jsx)("div",{className:"gameboard-row",children:t.map((function(t,s){return Object(m.jsx)("div",{id:e.props.boardType+"-"+i+s,className:"gameboard-cell ".concat(e.props.boardType,"-cell"),data:i+""+s,onClick:function(){e.props.handleCellClick(i+""+s)},children:r+"-"+t},s)}))},i)}))})})}}]),r}(s.a.Component),b=function(e){Object(p.a)(r,e);var t=Object(h.a)(r);function r(e){return Object(n.a)(this,r),t.call(this,e)}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"setup-prompt-window",className:"setup-prompt-window",children:[Object(m.jsxs)("h1",{children:["place your ",this.props.setupState]}),Object(m.jsx)("button",{onClick:function(){e.props.handleSubmitClick()},children:"submit your board"})]})})}}]),r}(s.a.Component),f=function(e){Object(p.a)(r,e);var t=Object(h.a)(r);function r(e){return Object(n.a)(this,r),t.call(this,e)}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"game-over-container",className:"game-over-container",children:[Object(m.jsxs)("h1",{children:[this.props.winner," won!"]}),Object(m.jsx)("button",{id:"game-over-button",onClick:function(){e.props.handleGameOverClick()},children:"restart"})]})})}}]),r}(s.a.Component),S=(r(15),function(e){Object(p.a)(r,e);var t=Object(h.a)(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).state={setupState:null,winner:null},i.tempSetupArr=[],i.playerCoords=[],i.computerCoords=[],i.computerGuesses=[],i.patrol=new l("patrol",2,[]),i.frigate=new l("frigate",3,[]),i.submarine=new l("submarine",3,[]),i.cruiser=new l("cruiser",4,[]),i.carrier=new l("carrier",5,[]),i.NPCpatrol=new l("patrol",2,[]),i.NPCfrigate=new l("frigate",3,[]),i.NPCsubmarine=new l("submarine",3,[]),i.NPCcruiser=new l("cruiser",4,[]),i.NPCcarrier=new l("carrier",5,[]),i.handleStartMenuClick=i.handleStartMenuClick.bind(Object(u.a)(i)),i.handleSetupClick=i.handleSetupClick.bind(Object(u.a)(i)),i.handleSetupSubmission=i.handleSetupSubmission.bind(Object(u.a)(i)),i.handlePlayerClick=i.handlePlayerClick.bind(Object(u.a)(i)),i.handleGameOverClick=i.handleGameOverClick.bind(Object(u.a)(i)),i}return Object(o.a)(r,[{key:"handleStartMenuClick",value:function(){document.querySelector(".start-menu-container").classList.toggle("hide"),document.querySelector("#setup-container").classList.toggle("show"),document.querySelector(".setup-prompt-window").classList.toggle("show"),this.setState({setupState:"patrol"})}},{key:"handleSetupClick",value:function(e){var t=document.querySelector("#setup-".concat(e));if(this.canPlace(e))switch(t.classList.add("player-occupied"),this.playerCoords.push(e),this.state.setupState){case"patrol":t.classList.add("player-patrol"),this.tempSetupArr.push(e),this.patrol.position.push(e),this.patrol.position.length===this.patrol.size&&(this.tempSetupArr=[],this.setState({setupState:"frigate"}));break;case"frigate":t.classList.add("player-frigate"),this.tempSetupArr.push(e),this.frigate.position.push(e),this.frigate.position.length===this.frigate.size&&(this.tempSetupArr=[],this.setState({setupState:"submarine"}));break;case"submarine":t.classList.add("player-submarine"),this.tempSetupArr.push(e),this.submarine.position.push(e),this.submarine.position.length===this.submarine.size&&(this.tempSetupArr=[],this.setState({setupState:"cruiser"}));break;case"cruiser":t.classList.add("player-cruiser"),this.tempSetupArr.push(e),this.cruiser.position.push(e),this.cruiser.position.length===this.cruiser.size&&(this.tempSetupArr=[],this.setState({setupState:"carrier"}));break;case"carrier":t.classList.add("player-carrier"),this.tempSetupArr.push(e),this.carrier.position.push(e),this.carrier.position.length===this.carrier.size&&(this.tempSetupArr=[],alert("setup complete"));break;default:alert("something went wrong")}else alert("reassess placement please")}},{key:"handleSetupSubmission",value:function(){document.querySelector("#setup-container").classList.toggle("show"),document.querySelector("#setup-prompt-window").classList.toggle("show"),this.renderPlayerBoard(),this.randomizeComputerBoard()}},{key:"renderPlayerBoard",value:function(){this.patrol.position.forEach((function(e){document.querySelector("#player-".concat(e)).classList.add("player-patrol")})),this.frigate.position.forEach((function(e){document.querySelector("#player-".concat(e)).classList.add("player-frigate")})),this.submarine.position.forEach((function(e){document.querySelector("#player-".concat(e)).classList.add("player-submarine")})),this.cruiser.position.forEach((function(e){document.querySelector("#player-".concat(e)).classList.add("player-cruiser")})),this.carrier.position.forEach((function(e){document.querySelector("#player-".concat(e)).classList.add("player-carrier")})),document.querySelectorAll(".player-cell").forEach((function(e){e.style="pointer-events: none;"})),document.querySelector("#player-container").classList.toggle("show")}},{key:"randomizeComputerBoard",value:function(){function e(){return Math.floor(99*Math.random()).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}for(;this.NPCpatrol.position.length<this.NPCpatrol.size;){var t=e();this.canPlace(t)&&!this.computerCoords.includes(t)&&(this.NPCpatrol.position.push(t),this.tempSetupArr.push(t),this.computerCoords.push(t))}for(this.tempSetupArr=[];this.NPCfrigate.position.length<this.NPCfrigate.size;){t=e();this.canPlace(t)&&!this.computerCoords.includes(t)&&(this.NPCfrigate.position.push(t),this.tempSetupArr.push(t),this.computerCoords.push(t))}for(this.tempSetupArr=[];this.NPCsubmarine.position.length<this.NPCsubmarine.size;){t=e();this.canPlace(t)&&!this.computerCoords.includes(t)&&(this.NPCsubmarine.position.push(t),this.tempSetupArr.push(t),this.computerCoords.push(t))}for(this.tempSetupArr=[];this.NPCcruiser.position.length<this.NPCcruiser.size;){t=e();this.canPlace(t)&&!this.computerCoords.includes(t)&&(this.NPCcruiser.position.push(t),this.tempSetupArr.push(t),this.computerCoords.push(t))}for(this.tempSetupArr=[];this.NPCcarrier.position.length<this.NPCcarrier.size;){t=e();this.canPlace(t)&&!this.computerCoords.includes(t)&&(this.NPCcarrier.position.push(t),this.tempSetupArr.push(t),this.computerCoords.push(t))}this.tempSetupArr=[],this.NPCpatrol.position.length!==this.NPCpatrol.size&&this.NPCfrigate.position.length!==this.NPCfrigate.size&&this.NPCsubmarine.position.length!==this.NPCsubmarine.size&&this.NPCcruiser.position.length!==this.NPCcruiser.size&&this.NPCcarrier.position.length!==this.NPCcarrier.size&&this.randomizeComputerBoard(),this.renderComputerBoard()}},{key:"renderComputerBoard",value:function(){this.NPCpatrol.position.forEach((function(e){var t=document.querySelector("#computer-".concat(e));t.classList.add("computer-occupied"),t.classList.add("computer-patrol")})),this.NPCfrigate.position.forEach((function(e){var t=document.querySelector("#computer-".concat(e));t.classList.add("computer-occupied"),t.classList.add("computer-frigate")})),this.NPCsubmarine.position.forEach((function(e){var t=document.querySelector("#computer-".concat(e));t.classList.add("computer-occupied"),t.classList.add("computer-submarine")})),this.NPCcruiser.position.forEach((function(e){var t=document.querySelector("#computer-".concat(e));t.classList.add("computer-occupied"),t.classList.add("computer-cruiser")})),this.NPCcarrier.position.forEach((function(e){var t=document.querySelector("#computer-".concat(e));t.classList.add("computer-occupied"),t.classList.add("computer-carrier")})),document.querySelector("#computer-container").classList.toggle("show"),this.forceUpdate()}},{key:"canPlace",value:function(e){var t=parseInt(e);if(0===this.tempSetupArr.length)return!0;if(1===this.tempSetupArr.length){if(9==this.tempSetupArr[0].charAt(1)&&0==e.charAt(1)||0==this.tempSetupArr[0].charAt(1)&&9==e.charAt(1))return!1;if(this.tempSetupArr[0]==t+10||this.tempSetupArr[0]==t-10)return!0;if(this.tempSetupArr[0]==t+1||this.tempSetupArr[0]==t-1)return!0}else if(this.tempSetupArr.sort((function(e,t){return e-t})),1===Math.abs(this.tempSetupArr[0]-this.tempSetupArr[1])){if((this.tempSetupArr[0]==t+1||this.tempSetupArr[0]==t-1||this.tempSetupArr[this.tempSetupArr.length-1]==t+1||this.tempSetupArr[this.tempSetupArr.length-1]==t-1)&&this.tempSetupArr[0].charAt(0)==e.charAt(0))return!0}else if(this.tempSetupArr[0]==t+10||this.tempSetupArr[0]==t-10||this.tempSetupArr[this.tempSetupArr.length-1]==t+10||this.tempSetupArr[this.tempSetupArr.length-1]==t-10)return!0}},{key:"handlePlayerClick",value:function(e){var t=document.querySelector("#computer-".concat(e)),r=t.classList[3];switch(r){case"computer-patrol":this.NPCpatrol.hit(),t.classList.toggle("hit");break;case"computer-frigate":this.NPCfrigate.hit(),t.classList.toggle("hit");break;case"computer-submarine":this.NPCsubmarine.hit(),t.classList.toggle("hit");break;case"computer-cruiser":this.NPCcruiser.hit(),t.classList.toggle("hit");break;case"computer-carrier":this.NPCcarrier.hit(),t.classList.toggle("hit");break;default:t.classList.toggle("miss")}this.checkShip("player",r),this.checkWin("player"),this.computerMove()}},{key:"checkShip",value:function(e,t){if("player"===e)switch(t){case"computer-patrol":this.NPCpatrol.isSunk()&&alert("sunk computer patrol boat");break;case"computer-frigate":this.NPCfrigate.isSunk()&&alert("sunk computer frigate boat");break;case"computer-submarine":this.NPCsubmarine.isSunk()&&alert("sunk computer submarine boat");break;case"computer-cruiser":this.NPCcruiser.isSunk()&&alert("sunk computer cruiser boat");break;case"computer-carrier":this.NPCcarrier.isSunk()&&alert("sunk computer carrier boat")}else switch(t){case"player-patrol":this.patrol.isSunk()&&alert("sunk player patrol boat");break;case"player-frigate":this.frigate.isSunk()&&alert("sunk player frigate boat");break;case"player-submarine":this.submarine.isSunk()&&alert("sunk player submarine boat");break;case"player-cruiser":this.cruiser.isSunk()&&alert("sunk player cruiser boat");break;case"player-carrier":this.carrier.isSunk()&&alert("sunk player carrier boat")}}},{key:"checkWin",value:function(e){if("player"===e){if(!(this.NPCpatrol.isSunk()&&this.NPCfrigate.isSunk()&&this.NPCsubmarine.isSunk()&&this.NPCcruiser.isSunk()&&this.NPCcarrier.isSunk()))return;this.setState({winner:"you"}),this.gameOver("player")}else if("computer"===e){if(!(this.patrol.isSunk()&&this.frigate.isSunk()&&this.submarine.isSunk()&&this.cruiser.isSunk()&&this.carrier.isSunk()))return;this.setState({winner:"computer"}),this.gameOver("computer")}}},{key:"gameOver",value:function(e){document.querySelector("#game-over-container").classList.toggle("show")}},{key:"computerMove",value:function(){var e=Math.floor(99*Math.random()).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),t=document.querySelector("#player-".concat(e)),r=t.classList[2];if(this.computerGuesses.includes(e))this.computerMove();else{if(this.playerCoords.includes(e)){switch(r){case"player-patrol":this.patrol.hit();break;case"player-frigate":this.frigate.hit();break;case"player-submarine":this.submarine.hit();break;case"player-cruiser":this.cruiser.hit();break;case"player-carrier":this.carrier.hit()}t.classList.toggle("hit")}else t.classList.toggle("miss");this.computerGuesses.push(e)}this.checkShip("computer",r),this.checkWin("computer")}},{key:"handleGameOverClick",value:function(){window.location.reload(!0)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"start-menu-container",children:[Object(m.jsx)("h1",{children:"Welcome to Frag-A-Frigate"}),Object(m.jsx)("button",{onClick:this.handleStartMenuClick,children:"click to begin"})]}),Object(m.jsx)(d,{boardType:"setup",handleCellClick:this.handleSetupClick}),Object(m.jsx)(b,{setupState:this.state.setupState,handleSubmitClick:this.handleSetupSubmission}),Object(m.jsx)(d,{boardType:"player"}),Object(m.jsx)(d,{boardType:"computer",handleCellClick:this.handlePlayerClick}),Object(m.jsx)(f,{winner:this.state.winner,handleGameOverClick:this.handleGameOverClick})]})}}]),r}(s.a.Component)),g=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,17)).then((function(t){var r=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),i(e),s(e),a(e),c(e)}))};c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),g()}},[[16,1,2]]]);
//# sourceMappingURL=main.bd0704d2.chunk.js.map